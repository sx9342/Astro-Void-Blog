---
title: 'C语言知识笔记2'
description: '变量和常量是程序中操作的基本数据对象。声明列出要使用的变量及其类型，可能还有初始值。运算符指定对它们执行的操作。表达式将变量和常量组合产生起来新值。对象的类型决定了它可以具有的值的集合以及可以对其执行的操作。这些构建块是本章的主题。'
pubDate: 'Sep 19 2024'
heroImage: '/image/CODE.jpg'
tags: ["C","计算机软件"]
---
# Types, Operators and Expressions

从这一章节开始，将会采用常用的 C 标准。

变量和常量是程序中操作的基本数据对象。声明列出要使用的变量及其类型，可能还有初始值。运算符指定对它们执行的操作。表达式将变量和常量组合产生起来新值。对象的类型决定了它可以具有的值的集合以及可以对其执行的操作。这些构建块是本章的主题。

## 变量名
变量名由字母和数字组成，第一个字符必须是字母。`下划线_`可以作为字母，在较长的变量名中可提高阅读性。变量不要以`_开头`，因为一些库的函数可能会这样命名，如`_getchar()`。注意，变量是区分大小写的，x 和 X 是完全不同的两个变量。在传统 C 开发中，一般变量用小写，常量用大写。

像 int、char、float、double 等关键字不能作为变量名。

## 数据类型和大小

这里有一些基本的数据类型：

- int 表示整数，可以表示正负整数-。
 float 表示浮点数，可以表示小数。
- double 表示双精度浮点数，可以表示小数。

另外，还有能表示更长或更短的数据形式比如 short 和 long，都是整型变量。一般 int 的长度会由编译器决定，short 一般是 16bit，int 32bit 或 16bit 都有可能，但是，short 和 int 至少要高于 16bit，long 至少 32bit，而且 short 绝对比 int 短，且都必须比 long 短。

关于 signed 和 unsigned：

- signed 表示有符号的，可以表示正负整数。
- unsigned 表示无符号的，只能表示正整数。

关于 char，char 表示字符，可以表示一个字符，如 'a'，'b'。

char 的大小是 8bit，但是 char 本质上是一个整数类型。这是因为 char 类型在内存中存储的是整数，这些数整对应于特定的字符编码（如 ASCII 编码）。这意味着 char 类型可以用来存储单个字符，同时也能够存储在该编码整下的数值。所以 char 也有符号之分，并且可以存储负数。

## 常量

- int 类型如 1324，long 会加上 L，如 1234L。unsigned 的类型会加上 u 或者 U。
- int 的进制可以为十进制，八进制和十六进制。
  - 十进制：直接输入数字，如 1234。
  - 八进制：以 0 开头，如 01234。
  - 十六进制：以 0x 或 0X 开头，如 0x1234。
  - 其他进制：如 0b1010，0o1234。
- 为何没有二进？制在 C 语言中，int 类型本身并不直接支持二进制字面量。直到 C99 标准之后，C 语言引入了_Complex 和_Imaginary 关键字，但这些与二进制字面量无关。直到 C11 标准，C 语言才正式支持了二进制字面量以及其他基数的字面量表示。

字符常量也是一种整型，在前文提到过，此处不再过多讲解。

关于转义字符，请看下表：

| 转义字符 | 描述                 |
|----------|----------------------|
| \n       | 换行符               |
| \t       | 制表符（水平制表）   |
| \r       | 回车符               |
| \b       | 退格符               |
| \\       | 反斜杠符             |
| \'       | 单引号               |
| \"       | 双引号               |
| \0       | 空字符N（UL）        |
| \v       | 垂直制表符           |
| \f       | 换页符               |
| \?       | 问号符（防止与三元运算符冲突） |
| \xhh     | 以十六进制表示的字符 |
| \ooo     |以 八进制表示的字符   |

关于 ``\0'' 有必要单独讲解：

```\0'' 是一个特殊的字符，表示 空字符 或 null 字符。它的 ASCII 值为 0。在字符串中，``\0'' 通常用来标记字符串的结束。字符数组（即字符串）通常以 ``\0'' 结束，以便字符串处理函数（如 strlen()、strcpy() 等）知道字符串的边界。

```c
#include <stdio.h>
#include <string.h>

int main() {
    char str[10] = "Hello";  // 字符串 "Hello"
    str[5] = '\0';          // 手动添加 null 字符

    printf("String: %s\n", str);  // 输出 "Hello"

    // 使用 strlen 计算字符串长度
    int length = strlen(str);
    printf("Length: %d\n", length);  // 输出 5

    return 0;
}
```

## 声明

所有变量必须在使用前声明，尽管某些声明可以隐式地声明。

显式声明：在变量名前加上类型，如 int x;，float y;，char z;。

隐式声明：在函数中，如果函数没有显式声明，那么函数中的变量会被隐式声明，如 x = 1;，y = 2.0;，z = 'a';。

限定字符 const 可以禁止变量被修改，如 const int x = 1;，const float y = 2.0;，const char z = 'a';。

建议在变量声明后赋初值，如 int x = 1;，float y = 2.0; 如果不赋初值，会导致一些未知的问题和影响，甚至会使程序崩溃。

```c
#include <stdio.h>

void example() {
    int x;  // 不赋初值的局部变量
    printf("x = %d\n", x);  // 输出未定义的值
}

int main() {
    example();
    return 0;
}
